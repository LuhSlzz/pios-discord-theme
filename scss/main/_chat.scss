@use "../top/vars" as *;
@use "../top/border" as bd;
@use "../top/hsla";

// Main chat section
.chatContent__5dca8 {
    @include bd.border(thick);
}

// "Jump to present", "New messages since", "Messages failed to load" bars
.jumpToPresentBar__0ff7f,
.newMessagesBar__8b6d7,
.messagesErrorBar__06c0a {
    background-color: $accent-color;
    opacity: 0.9;
}

// Messages allow overflow in case of oversize embeds
.message__41c2a,
.message_f3a9e4 {
    overflow: visible;
}

// Message react/reply etc buttons
.wrapper_c727b6 {
    @include bd.border(thin);
}

// Pin icon for pin alerts
.iconContainer_dfc268 {
    padding: 0.1rem;
}

// Reply/thread pipe
.repliedMessage_e2bf4a:before,
.cozy_f5c119.hasThread__58ee2:after {
    border-left-width: 3px;
    border-top-width: 1px;
}

.cozy_f5c119.hasThread__58ee2:after {
    border-bottom-width: 1px;
}

// piOS style message boxes in compact mode
.compact__54ecc.wrapper__09ecc {
    @include bd.border(thin);
    margin: calc(var(--pios-spacing) * 1.5rem) 3rem;
    padding: 1rem 1rem 0.5rem 1rem;
    padding-right: 1rem !important;
}

// Remove box if system message eg. pin
.compact__54ecc.wrapper__09ecc.systemMessage__6e6a4 {
    border: 0;
}

// Message info
.compact__54ecc .header__39b23 {
    position: absolute;
    top: -1.6rem;
    display: flex;
    flex-direction: row-reverse;
    background: linear-gradient(transparent, $background-color 40%, transparent 60%);
}

.compact__54ecc .header__39b23 > span {
    display: block;
}

// Hides timestamps for the same time as previous message
.compact__54ecc .timestampVisibleOnHover_e8cc6d {
    width: 0;
    color: transparent;
}

// Badges from ShowBadgesInChat https://github.com/mwittrien/BetterDiscordAddons/tree/master/Plugins/ShowBadgesInChat///
.compact__54ecc .badgesChat-f_cbR8 {
    top: 0;
}

// Corrects alignment of username when badges are present
.compact__54ecc .username_d30d99 {
    vertical-align: top;
}

// Special message left bar
.automodMessage__410f7:before,
.ephemeral_c26b64:before,
.mentioned__58017:before,
.replying_d7b6ad:before {
    width: 3px;
}

// Reply
// Post username and timestamp
.compact__54ecc.hasReply_febd50 .header__39b23,
.compact__54ecc .repliedMessage_e2bf4a + .contents_f41bb2 .header__39b23 {
    top: -2.7rem;
}

// Replied content
.compact__54ecc .repliedMessage_e2bf4a {
    margin-left: 0;
    padding-left: 0;
    top: -2px;
}

.executedCommand_e8859a,
.threadMessageAccessory__33bc1 {
    height: auto;
}

.compact__54ecc .repliedMessage_e2bf4a .timestamp_cdbd93 {
    line-height: 1rem;
    height: auto;
}

// Replied elbow
.compact__54ecc .repliedMessage_e2bf4a::before {
    display: none;
}

// Icons inside replied content
.compact__54ecc .repliedMessage_e2bf4a .repliedTextContentIcon__4dd82,
.compact__54ecc .repliedMessage_e2bf4a .badgesChat-f_cbR8 img,
.compact__54ecc .repliedMessage_e2bf4a .ownerIcon__827bd,
.compact__54ecc .repliedMessage_e2bf4a .emoji {
    width: 1rem;
    height: 1rem;
}

// message react/reply etc buttons
.compact__54ecc .container__9d616 {
    top: -16px;
}

// Message contents
.compact__54ecc .contents_f41bb2 {
    margin: 0;
    padding-left: 0;
    text-indent: 0;
}

// Block quote starter
.blockquoteContainer_f24d1f .blockquoteDivider__96157 {
    width: 3px;
}

// Embeds
.embedFull__8dc21.markup_a7e664,
// most embeds
.appMount_fae9dd .wrapperAudio__555ce,
// audio
.attachment_f3cf2c,
// file
.wrapper_efe67f,
// invite
.footer__06f4b // code/text
{
    background: $embed-color;
    border: 0;
    text-shadow: none;
}

.grid_c7c4e6 {
    padding: 12px 18px;
}

.embedMargin__9576e {
    margin-top: 0;
}

// Video embed
// Video metadata
.metadata__2d766 {
    backdrop-filter: blur(3px);
}

// play buttons on video
.wrapper__5036f {
    padding: 12px;
}

// timeline slider
.mediaBarProgress__29db2,
.mediaBarProgress__29db2:after,
.mediaBarProgress__29db2:before {
    background: $accent-color;
}

// timeline slider knob
.mediaBarGrabber_c64ff9,
.mediaBarInteraction__0633c:hover .mediaBarGrabber_c64ff9,
.mediaBarInteractionDragging__0a2ee .mediaBarGrabber_c64ff9 {
    background: $bright-color;
}

// Reacts you have added
.reaction_b90ab0,
.reaction_b90ab0:hover {
    @include bd.border(thin);
}

.reaction_b90ab0.reactionMe_bf6909 {
    border-color: $accent-color;
    background-color: hsla.default($accent-hue, 0.3);
}

// Thread from message
// Thread spine
// Upper
.compact__54ecc.hasThread__58ee2 .contents_f41bb2::before {
    display: none;
}

// Lower
.spine_d081ec {
    top: 0.15rem;
    left: 0rem;
    z-index: -1;
    border-bottom-width: 1px;
    border-left-width: 3px;
}

// Thread info
.container__767d1 {
    background-color: hsla.default($accent-hue, 0.2);
}

.compact__54ecc .container__767d1 {
    position: relative;
    left: 2.5rem;
}

// Typing box
.channelTextArea__56a36 {
    @include bd.border(thick);
}

.scrollableContainer__33e06 {
    min-height: 60px;
}

// "Replying to" bar
.attachedBars_da3c74 {
    background: transparent;
    border-bottom: 2px dashed $border-color-normal;
}

// @on button
.mentionButton_a470c4 {
    color: $accent-color;
}

// Uploading files bar
.upload_c98ecb {
    background-color: $embed-color;
}

// Command suggestions bar
.appMount_fae9dd .selected-3H3-RC,
.appMount_fae9dd .option__32fd1 {
    background-color: hsla.default($accent-hue, 0.3);
}

// follow to get this channel's updates in your server add dotted topline
.form__13a2c .wrapper_fbbb73 {
    border-top: 2px dashed $border-color-normal;
    margin-top: 0;
}

// Forums
.appMount_fae9dd .container_b181b6 {
    background: $background-color;
}

// Post title
.card__691f2 .headerText_cd33c6 {
    --text-muted: #{$bright-color};
}

// Post message preview
.card__691f2 .markup_a7e664 {
    text-shadow: none;
}

// Browse channels
.appMount_fae9dd .container__10dc7,
.appMount_fae9dd .header__60bef,
.appMount_fae9dd .container__7590f {
    background: $background-color;
}
